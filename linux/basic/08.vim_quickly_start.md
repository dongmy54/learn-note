
#### vim介绍
所有linux操作系统都自带了vi编辑器，但是由于vi的功能有限，也不是特别好用；
所以在业内大家都用vim，vim本质上是vi基础上增强版。

#### vim模式
在具体学习操作前，必须要了解vim的模式，因为这和操作细细相关，可以说操作对应的就是模式；每个模式下可以进行的操作是不同的。

- 命令模式（进入后默认模式）
- 插入模式（开启编辑后进入的模式，比如按下`o`/`i`进入）
- 末行模式（比如：冒号/搜索等等）
- 可视块模式（用于多行批量编辑-用的不是特别多）

#### 操作流程（进入、保存、退出）
一个基本的流程
```
1. vim ab.txt  # 进入ab.txt文件；如果文件不存在则新增
2. 此时进入命令模式 # 输入i/o 进入编辑模式
3. 编辑文件
4. 编辑完成，按下esc（进入命令模式），输入
   :q (如果没有做任何改动，直接退出)
   :q!(强制退出)
   :w(保存，不退出)
   :wq(保存退出)
   :wq!(强制保存退出)

PS: 任何模式下，我们都可以通过esc（英文输入法下）回到，命令模式；
```

#### 基本操作
vim其实相当强大，可以支持非常多的操作，我们没必要把所有的操作都去记住，我们只需要从使用的角度去掌握一些高频常用的操作就行。

下面列出一些常用的操作
```bash
:set nu          # 行号显示

命令行模式下
按i              # 光标处输入
按o              # 在当前行下一行新开一行

:line_num        # 跳到指定行 :56 代表跳到56行
/search_content  # 搜索内容，搜到后按n跳下一个（shift+n）跳上一个
:set hlsearch    # 设置搜索高亮

gg              # 跳到文档开头
G               # 跳到文档末尾

o               # 跳行首
$               # 跳行尾

dd              # 删除整行
2dd             # 删除光标下两行
D               # 删除当前光标到行尾内容

yy              # 复制当前行
3yy             # 复制当前光标以及其下三行
p               # 粘贴

u               # 撤销
ctrl + r        # 恢复

:s/苹果/芒果/     # 替换当前行的首个苹果->芒果
:s/苹果/芒果/g    # 替换当前行的所有苹果->芒果
:%s/苹果/芒果/    # 替换整个文档的首个（全局）
:%s/苹果/芒果/g   # 替换整个文档所有
```

#### 可视模式
用于批量编辑，比如同时将多行注释掉

```bash
1. 确认当前光标所在位置在需要操作的位置
2. ctrl + v 进入可视模式
3. 通过上下左右移动光标的移动，选中需要改动区域
4. 按下I (PS: 大写的)，进入编辑模式，编辑
5. 编辑完成后，连按两次esc 退出
```