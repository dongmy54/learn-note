#### 一、多大算大
首先，说到大表优化，我们先给大表下一个概念，多大算大表；不同的人可能有不同的认识，我姑且认为500w行就算大表

#### 二、优化策略
##### 1. 结构优化
1. 分表
   将一张表的某些字段单独列出到另外一张表中，将一张表拆分为多张表；缺点：逻辑上要改动比较麻烦
2. 分区
   使用数据库的分区功能，由数据库对表进行分区建立分区表，好处是对外层仍然是一整张表，无须逻辑代码改动；缺点：垮分区查询慢，查询时候要带上分区字段过滤
3. 分库
   主要是通过读写分离缓解单台数据库服务器压力，缺点：会增加架构的复杂度，增加成本

##### 2. 表优化
1. 在满足存储要求的情况下，字段长度尽可能的小（能用int就不用bigint,能用无符号就不用有符号）
2. 字段类型选择上 布尔 > 整型 > 时间 > 字符串，越优先查询效果越好
3. 字段尽量不要存在null值（影响索引）
4. 单表字段不要太多（不要超20个,PS:实际业务经常超很多）
5. 如果表中存在text，最好做分表
   
##### 3. sql优化
1. 尽量不要`select *` 按需取数
2. 查询时，要带上limit
3. join最好不要超过三张表
4. where条件中最好用上索引
5. 对于复杂查询，最好的方式是：少量，多次查询，不要一次搞死数据库

##### 4. 其它
1. 统计数据，单独成表，事先统计
2. 热点数据，通过redis等做缓存




